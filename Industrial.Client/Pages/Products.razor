@inject IDialogService DialogService


@page "/products"

<h3>Products</h3>

<MudContainer Class="mt-16 px-8" MaxWidth="MaxWidth.False">
    <MudGrid>
        @foreach (var item in items)
        {
            <MudItem xs="12" sm="6" md="4">
                <div style="position: relative; height: 200px; border: 2px solid #ccc; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
                    <div style="position: absolute; top: 0; right: 0; width: 20%; height: 100%; display: flex; flex-direction: column; justify-content: space-around;">
                        <!-- 20% of space for buttons -->
                        <MudIconButton Icon="@Icons.Material.Filled.AddCircle" Color="Color.Primary" />
                        <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Secondary" @onclick="() => RemoveItem(item)" />
                        <MudIconButton Icon="@Icons.Material.Filled.Info" Color="Color.Surface" @onclick="OpenDialog" />
                    </div>
                    <div style="position: absolute; top: 0; left: 0; width: 80%; height: 100%;">
                        <!-- 80% of space for image -->
                        <img src="your-image-path.jpg" style="width: 100%; height: 100%;" />
                    </div>
                </div>
            </MudItem>
        }
        <MudItem xs="12" sm="6" md="4">
            <div style="position: relative; height: 200px; border: 2px dashed #ccc; display: flex; align-items: center; justify-content: center;">
                <MudIconButton Icon="@Icons.Material.Filled.AddBox" Color="Color.Success" @onclick="AddItem" />
            </div>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private List<int> items = new List<int>();
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    void Submit() => MudDialog.Close(DialogResult.Ok(true));
    void Cancel() => MudDialog.Cancel();

    public void OpenDialog()
    {
        var options = new DialogOptions { CloseOnEscapeKey = true };
        DialogService.Show<DialogUsageExample_Dialog>("Simple Dialog", options);
    }
    private void AddItem()
    {
        items.Add(items.Count);
    }

    private void RemoveItem(int item)
    {
        items.Remove(item);
    }

}

